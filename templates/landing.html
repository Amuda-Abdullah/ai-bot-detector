<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bot Text Detector</title>
    <link rel="icon" type="image/" href="../static/images/bot-detector.jpg" />
    <script src="https://cdn.tailwindcss.com"></script>

  </head>
  <body class="bg-gray-50">
    <nav class="bg-white shadow-lg fixed top-0 left-0 w-full z-50 transition-all duration-300">
      <div class="max-w-7xl mx-auto px-4 py-3">
        <div class="flex justify-between items-center">
          <div class="flex items-center">
            <img
              src="/static/images/logo.png"
              alt="Logo"
              class="h-10 w-10 rounded-lg"
            />
            <span class="ml-3 text-xl font-bold text-gray-800"
              >Bot Text Detector</span
            >
          </div>
        </div>
      </div>
    </nav>
    <!-- Spacer to prevent content from being hidden behind the fixed navbar -->
    <div class="h-[64px]"></div>

    <main class="max-w-7xl mx-auto px-4 py-8">
      <!-- Hero Section -->
      <div class="relative text-center mb-16 overflow-hidden">
        
        <div class="relative z-10">
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-gray-900 mb-6 drop-shadow-sm">
            Detect <span class="text-blue-600">Bot-Generated</span> Content
          </h1>
          <p class="text-xl md:text-2xl text-gray-600 max-w-2xl mx-auto mb-8">
            Our advanced <span class="font-semibold text-blue-500">Bot detection tool</span> helps you identify whether text was written by a human or generated by a Bot.
          </p>
          <div class="flex justify-center gap-4">
            <a href="#analysis-form" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold px-8 py-3 rounded-lg shadow-lg transition duration-200">
              Try It Now
            </a>
            <a href="#how-it-works" class="inline-block bg-white border border-blue-600 text-blue-600 font-semibold px-8 py-3 rounded-lg shadow hover:bg-blue-50 transition duration-200">
              How It Works
            </a>
          </div>
        </div>
      </div>

     

      <!-- Features Grid -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
        <!-- Feature 1 -->
        <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col items-center text-center group">
          <div class="bg-blue-200 rounded-full p-4 mb-5 group-hover:scale-110 transition-transform duration-200">
            <img
              src="/static/images/accuracy.png"
              alt="Accuracy Icon"
              class="w-14 h-14"
            />
          </div>
          <h3 class="text-2xl font-bold mb-2 text-blue-700 group-hover:text-blue-900 transition-colors duration-200">High Accuracy</h3>
          <p class="text-gray-600 text-base">
            Advanced algorithms ensure <span class="font-semibold text-blue-600">precise detection</span> of Bot-generated content.
          </p>
          <p class="text-gray-500 text-sm mt-3">
            Useful for educators, recruiters, and content creators to verify the authenticity of written material.
          </p>
        </div>
        <!-- Feature 2 -->
        <div class="bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col items-center text-center group">
          <div class="bg-green-200 rounded-full p-4 mb-5 group-hover:scale-110 transition-transform duration-200">
            <img
              src="/static/images/instant.jpg"
              alt="Speed Icon"
              class="w-14 h-14"
            />
          </div>
          <h3 class="text-2xl font-bold mb-2 text-green-700 group-hover:text-green-900 transition-colors duration-200">Instant Results</h3>
          <p class="text-gray-600 text-base">
            Get <span class="font-semibold text-green-600">analysis results in seconds</span>, no waiting required.
          </p>
          <p class="text-gray-500 text-sm mt-3">
            Perfect for quick checks on essays, articles, emails, or any suspicious text.
          </p>
        </div>
        <!-- Feature 3 -->
        <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col items-center text-center group">
          <div class="bg-yellow-200 rounded-full p-4 mb-5 group-hover:scale-110 transition-transform duration-200">
            <img
              src="/static/images/privacy.png"
              alt="Privacy Icon"
              class="w-14 h-14"
            />
          </div>
          <h3 class="text-2xl font-bold mb-2 text-yellow-700 group-hover:text-yellow-900 transition-colors duration-200">Privacy First</h3>
          <p class="text-gray-600 text-base">
            Your content is <span class="font-semibold text-yellow-600">analyzed securely</span> and never stored.
          </p>
          <p class="text-gray-500 text-sm mt-3">
            Ideal for confidential documents and sensitive informationâ€”your data stays private.
          </p>
        </div>
      </div>
      <div class="max-w-3xl mx-auto text-center mb-12">
        <h2 class="text-2xl font-bold mb-4 text-gray-800">What Can You Use Bot Text Detector For?</h2>
        <p class="text-gray-600 text-lg">
          Bot Text Detector helps you verify if a piece of text was written by a human or generated by a bot. 
          <span class="font-semibold text-blue-600">Use it to:</span>
        </p>
        <ul class="list-disc list-inside text-gray-700 mt-4 text-base text-left mx-auto max-w-xl">
          <li>Check student essays and assignments for AI-generated content.</li>
          <li>Screen job applications and cover letters for authenticity.</li>
          <li>Validate articles, blog posts, and news for originality.</li>
          <li>Review emails and business communications for genuine authorship.</li>
          <li>Ensure the integrity of online reviews, comments, and forum posts.</li>
        </ul>
        <p class="text-gray-600 mt-4">
          Whether you're an educator, employer, writer, or just curious, our tool gives you confidence in the authenticity of any text.
        </p>
      </div>

      <!-- Text Analysis Section -->
      <div class="bg-white rounded-3xl shadow-1xl p-10 mb-16 border border-blue-100">
        <h2 class="text-3xl font-extrabold mb-8 text-center text-blue-700 tracking-tight">
          Analyze Your Text
        </h2>
        <form id="analysis-form" class="space-y-6">
          <div>
            <textarea
              id="content"
              minlength="100"
              maxlength="1500"
              name="input_text"
              rows="7"
              class="w-full p-5 border-2 border-blue-200 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-blue-400 transition-all duration-200 text-lg placeholder-gray-400 shadow-inner resize-none"
              placeholder="Paste your text here (minimum 100 characters recommended for accurate analysis)"
            ></textarea>
          </div>
          <div class="flex justify-center">
            <button
              type="submit"
              class="bg-gradient-to-r from-blue-600 to-blue-400 text-white px-10 py-3 rounded-xl font-semibold text-lg shadow-lg hover:from-blue-700 hover:to-blue-500 transition-all duration-200 flex items-center gap-2"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 17v-2a4 4 0 014-4h2m4 0a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              Analyze Text
            </button>
          </div>
        </form>

        <div id="results" class="mt-10 hidden">
          <div class="border-t border-blue-100 pt-8">
            <h3 class="text-2xl font-bold mb-5 text-blue-700 text-center">Analysis Results</h3>
            <div class="bg-blue-50 p-8 rounded-2xl shadow-inner">
              <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-3">
                <span class="text-lg font-medium text-gray-700">Bot Detection Score:</span>
                <span id="score" class="text-3xl font-extrabold text-blue-600 transition-colors duration-300">90%</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-3 mb-4 overflow-hidden">
                <div
                  id="score-bar"
                  class="bg-blue-600 h-3 rounded-full transition-all duration-700"
                  style="width: 90%"
                ></div>
              </div>
              <p class="my-4 text-center text-lg font-medium" id="result-message"></p>
              <div id="results-analysis">
                <div class="bg-gray-50 rounded-lg p-4 text-left text-base"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- How It Works Section -->
      <section id="how-it-works" class="mb-16">
        <h2 class="text-3xl font-extrabold mb-8 text-center text-blue-700 tracking-tight">
          How It Works
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
          <!-- Step 1 -->
          <div class="flex flex-col items-center text-center bg-white rounded-2xl shadow p-8 transition-shadow duration-300">
        <div class="bg-blue-100 rounded-full p-5 mb-6 flex items-center justify-center shadow-md">
          <img
            src="/static/images/paste.png"
            alt="Step 1"
            class="w-14 h-14"
          />
        </div>
        <h3 class="text-xl font-semibold mb-2 text-blue-700">1. Paste Your Text</h3>
        <p class="text-gray-600">
          Simply paste the content you want to analyze into the text box.
        </p>
          </div>
          <!-- Step 2 -->
          <div class="flex flex-col items-center text-center bg-white rounded-2xl shadow p-8 transition-shadow duration-300">
        <div class="bg-green-100 rounded-full p-5 mb-6 flex items-center justify-center shadow-md">
          <img
            src="/static/images/analyse.webp"
            alt="Step 2"
            class="w-14 h-14"
          />
        </div>
        <h3 class="text-xl font-semibold mb-2 text-green-700">2. Click Analyze</h3>
        <p class="text-gray-600">
          Our Bot model will process your text instantly.
        </p>
          </div>
          <!-- Step 3 -->
          <div class="flex flex-col items-center text-center bg-white rounded-2xl shadow p-8 transition-shadow duration-300">
        <div class="bg-yellow-100 rounded-full p-5 mb-6 flex items-center justify-center shadow-md">
          <img
            src="/static/images/privacy.png"
            alt="Step 3"
            class="w-14 h-14"
          />
        </div>
        <h3 class="text-xl font-semibold mb-2 text-yellow-700">3. Get Results</h3>
        <p class="text-gray-600">
          Receive a detailed analysis of Bot probability.
        </p>
          </div>
        </div>
      </section>
    </main>

    <footer class="bg-gray-900 text-gray-200 py-10 mt-12">
      <div class="max-w-7xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- About Us -->
        <div>
        <h3 class="text-lg font-semibold mb-4 text-white">About Us</h3>
        <p class="text-gray-400">
          We help users detect Bot-generated content using advanced AI technology.
        </p>
        </div>
        <!-- Quick Links -->
        <div>
        <h3 class="text-lg font-semibold mb-4 text-white">Quick Links</h3>
        <ul class="space-y-2">
          <li>
          <a href="#" class="hover:text-blue-400 transition-colors">Home</a>
          </li>
          <li>
          <a href="#how-it-works" class="hover:text-blue-400 transition-colors">How It Works</a>
          </li>
          <li>
          <a href="#" class="hover:text-blue-400 transition-colors">Privacy Policy</a>
          </li>
        </ul>
        </div>
        <!-- Contact -->
        <div>
        <h3 class="text-lg font-semibold mb-4 text-white">Contact</h3>
        <p class="text-gray-400 mb-2">
          Questions? Email us at
          <a href="mailto:amudaabdullah35@gmail.com" class="text-blue-300 hover:text-blue-400 underline transition-colors">
          amudaabdullah35@gmail.com
          </a>
        </p>
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="{{ url_for('whatsapp_redirect') }}"
          class="inline-block mt-2 text-green-400 hover:text-green-300 font-medium transition-colors"
        >
          Chat on WhatsApp
        </a>
        </div>
      </div>
      <div class="mt-10 pt-8 border-t border-gray-700 text-center text-gray-400 text-sm">
        <p>&copy; 2025 Bot Text Detector. All rights reserved.</p>
      </div>
      </div>
    </footer>
  </body>
</html>

<script>
  document
    .getElementById("analysis-form")
    .addEventListener("submit", function (e) {
      e.preventDefault();
      const text = document.getElementById("content").value;

      // Show loading state
      document.querySelector('button[type="submit"]').innerHTML = `
        <span class="inline-flex items-center">
          <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          Analyzing...
        </span>
      `;

      // Make API call
      fetch("/predict", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          input_text: text,
        }),
      })
        .then((response) => {
          if (!response.ok) throw new Error("Network response was not ok");
          return response.json();
        })
        .then((data) => {
          // Show results section
          document.getElementById("results").classList.remove("hidden");

          const score = data.data?.fakePercentage || 0;
          const scoreBar = document.getElementById("score-bar");
          const scoreText = document.getElementById("score");

          // Reset bar for animation
          scoreBar.style.width = "0%";
          void scoreBar.offsetWidth; // Trigger reflow

          // Animate to actual score
          scoreBar.style.width = score + "%";
          scoreText.textContent = score + "%";

          // Set colors based on threshold (50% = AI)
          const isAI = score >= 50;
          scoreBar.classList.remove("bg-blue-600", "bg-red-600", "bg-green-600");
          scoreText.classList.remove("text-blue-600", "text-red-600", "text-green-600");
          
          if (isAI) {
            scoreBar.classList.add("bg-red-600");
            scoreText.classList.add("text-red-600");
          } else {
            scoreBar.classList.add("bg-green-600");
            scoreText.classList.add("text-green-600");
          }

          // Update result message
          const messageElement = document.getElementById("result-message");
          messageElement.innerHTML = "";

          let feedbackText = data.data.feedback 
            ? data.data.feedback.replace(/AI\/GPT/g, "BOT")
            : generateFallbackMessage(score);
          
          messageElement.textContent = feedbackText;

          // Highlight suspicious sentences (if available)
          if (data.data?.originalParagraph) {
            const resultsDiv = document.querySelector("#results-analysis .bg-gray-50");
            resultsDiv.innerHTML = "";
            
            let inputText = data.data.input_text;
            let botSentences = data.data.h || [];
            
            botSentences.sort((a, b) => b.length - a.length).forEach((sentence) => {
              const escaped = sentence.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
              inputText = inputText.replace(
                new RegExp(escaped, "gi"),
                `<span class="text-red-600 font-bold">${sentence}</span>`
              );
            });

            const detailsDiv = document.createElement("div");
            detailsDiv.classList.add("mt-4", "pt-4", "border-t", "border-gray-200");
            detailsDiv.innerHTML = `
              <h4 class="font-medium mb-2">Analysis Details</h4>
              <div class="text-sm text-gray-600">
                <p class="mb-2">${inputText}</p>
                ${data.data.textWords ? `<p class="mb-2">Total words: ${data.data.textWords}, AI-like words: ${data.data.aiWords || 0}</p>` : ''}
              </div>
            `;
            resultsDiv.appendChild(detailsDiv);
          }
        })
        .catch((error) => {
          console.error("Error:", error);
          document.getElementById("results").classList.remove("hidden");
          document.getElementById("result-message").textContent =
            "Error analyzing text. Please try again.";
        })
        .finally(() => {
          document.querySelector('button[type="submit"]').innerHTML = "Analyze Text";
        });

      // Helper function for fallback messages
      function generateFallbackMessage(score) {
        if (score > 80) return "This text was likely generated by BOT.";
        if (score > 40) return "This text shows some BOT characteristics, but results are inconclusive.";
        return "This text was likely written by a human.";
      }
    });
</script>

<style>
  /* Smooth animations */
  #score-bar {
    transition: width 0.8s ease-in-out, background-color 0.5s ease-in-out;
  }
  #score {
    transition: color 0.5s ease-in-out;
  }
</style>